{"version":3,"sources":["../../src/logic/storeFactory.ts","../../src/constants.ts","../../src/StateMachineContext.tsx","../../src/stateMachine.tsx","hooks/useHeaderContext.ts","helper/scrollHelper.ts","components/Texts/Texts.ts","components/Button/style.ts","components/Button/Button.tsx","utils/wizard.ts","components/WizardButtons/style.ts","components/WizardButtons/WizardButtons.tsx","../../usePortal.ts","../node_modules/use-ssr/dist/useSSR.js","assets/images/Clouds.svg","assets/icons/arrowUp.svg","containers/SubmitSteps/RecordingsSteps/RecordManualUpload/style.ts","containers/SubmitSteps/RecordingsSteps/RecordManualUpload/RecordManualUpload.tsx"],"names":["e","name","middleWares","persist","t","storageType","sessionStorage","window","updateStore","n","JSON","parse","getItem","saveStore","setItem","stringify","state","options","o","r","children","s","a","i","onbeforeunload","removeItem","Provider","value","setState","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","entries","reduce","skipRender","actions","current","getState","useHeaderContext","title","setTitle","subtitle","setSubtitle","type","setType","logoSize","setLogoSize","setDoGoBack","doGoBack","React","useContext","HeaderContext","scrollToTop","scrollTo","top","behavior","BaseText","css","BlackText","styled","div","_ref","dark","colors","darkBlack","black","props","fontSize","BaseTitle","StyledButton","button","disabled","color","purple_50","purple","white","Button","memo","_jsx","updateAction","storeKey","payload","WizardButtonsContainer","theme","layout","generalPaddingAmount","breakpoints","tablet","WizardButtons","invert","leftLabel","leftDisabled","leftHandler","rightLabel","rightDisabled","rightHandler","_jsxs","onClick","react_1","require","react_dom_1","use_ssr_1","__importDefault","exports","errorMessage1","default","_a","_b","closeOnOutsideClick","_c","closeOnEsc","bindTo","_d","isOpen","defaultIsOpen","onOpen","onClose","onPortalClick","_e","programmaticallyOpen","eventHandlers","__rest","_f","isServer","isBrowser","_g","useState","makeOpen","open","useRef","setOpen","useCallback","v","targetEl","portal","document","createElement","useEffect","elToMountTo","useMemo","findDOMNode","body","createCustomEvent","event","currentTarget","customEventHandlers","acc","handlerName","eventHandler","openPortal","customEvent","setTimeout","Error","closePortal","togglePortal","handleKeydown","key","undefined","handleOutsideMouseClick","containsTarget","target","contains","handleMouseDown","HTMLElement","eventListeners","eventHandlerMap","onScroll","onWheel","node","appendChild","forEach","eventListenerName","addEventListener","removeEventListener","removeChild","Portal","createPortal","__assign","ref","portalRef","bind","Device","this","p","defineProperty","Browser","Server","Native","canUseDOM","device","navigator","product","SSRObject","isNative","canUseWorkers","Worker","canUseEventListeners","canUseViewport","screen","toArrayObject","args","_i","obj","keys","map","useSSRObject","weAreServer","useSSR","_path","_path2","_path3","_extends","SvgClouds","svgRef","titleId","viewBox","fill","xmlns","id","d","ForwardRef","SvgArrowUp","stroke","strokeWidth","strokeLinecap","strokeLinejoin","MainContainer","Title","Text","darkGray_70","TextAddFile","attrs","TextFileConstraints","darkGray","TextErrorContainer","red","UploadContainer","UploadInput","input","UploadButton","label","ArrowUp","Arrow","CloudsSVG","Clouds","schema","Yup","uploadedFile","required","test","file","size","async","audio","Audio","URL","createObjectURL","load","Promise","resolver","duration","defined","RecordManualUpload","_state$storeKey","previousStep","nextStep","metadata","usePortal","getElementById","history","useHistory","useStateMachine","control","useForm","mode","defaultValues","currentLogic","yupResolver","useTranslation","activeStep","setActiveStep","errorMsg","setErrorMsg","inputUpload","handleNext","values","recordingFile","push","from","handleDoBack","goBack","handleUpload","validate","then","catch","err","errors","_Fragment","Controller","render","_ref2","htmlFor","accept","onChange","_e$currentTarget$file","files","_inputUpload$current","click"],"mappings":"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","file":"static/js/25.8c10d73a.chunk.js","sourcesContent":["import { PERSIST_OPTION, STORE_DEFAULT_NAME } from '../constants';\nimport { GlobalState, StateMachineOptions } from '../types';\n\nfunction StoreFactory() {\n  let options: StateMachineOptions = {\n    name: STORE_DEFAULT_NAME,\n    middleWares: [],\n    persist: PERSIST_OPTION.ACTION,\n  };\n  let state: GlobalState = {};\n\n  try {\n    options.storageType =\n      typeof sessionStorage !== 'undefined' ? window.sessionStorage : undefined;\n  } catch {}\n\n  return {\n    updateStore(defaultValues: GlobalState) {\n      try {\n        state =\n          (options.storageType &&\n            JSON.parse(options.storageType.getItem(options.name!) || '')) ||\n          defaultValues;\n      } catch {\n        state = defaultValues;\n      }\n    },\n    saveStore() {\n      options.storageType &&\n        options.storageType.setItem(options.name!, JSON.stringify(state));\n    },\n    get state() {\n      return state;\n    },\n    set state(value) {\n      state = value;\n    },\n    get options() {\n      return options;\n    },\n    set options(value) {\n      options = value;\n    },\n  };\n}\n\nexport default StoreFactory();\n","export const STORE_DEFAULT_NAME = '__LSM__';\nexport const STORE_ACTION_NAME = '__LSM_NAME__';\nexport const PERSIST_OPTION = {\n  NONE: 'none',\n  ACTION: 'action',\n  UNLOAD: 'beforeUnload',\n} as const;\n","import * as React from 'react';\nimport storeFactory from './logic/storeFactory';\nimport { StateMachineContextValue } from './types';\nimport { PERSIST_OPTION } from './constants';\n\ntype PropsChildren = {\n  children?: React.ReactNode;\n};\n\nconst StateMachineContext = React.createContext<StateMachineContextValue>(\n  undefined as any,\n);\n\nexport const StateMachineProvider: React.FC<PropsChildren> = ({ children }) => {\n  const [state, setState] = React.useState(storeFactory.state);\n\n  React.useEffect(() => {\n    if (storeFactory.options.persist === PERSIST_OPTION.UNLOAD) {\n      window.onbeforeunload = () => storeFactory.saveStore();\n      storeFactory.options.storageType &&\n        storeFactory.options.storageType.removeItem(storeFactory.options.name!);\n    }\n  }, []);\n\n  return (\n    <StateMachineContext.Provider value={{ state, setState }}>\n      {children}\n    </StateMachineContext.Provider>\n  );\n};\n\nexport const useStateMachineContext = () =>\n  React.useContext<StateMachineContextValue>(StateMachineContext);\n","import * as React from 'react';\nimport { useStateMachineContext } from './StateMachineContext';\nimport storeFactory from './logic/storeFactory';\nimport {\n  StateMachineOptions,\n  GlobalState,\n  AnyCallback,\n  AnyActions,\n  ActionsOutput,\n} from './types';\nimport { PERSIST_OPTION, STORE_ACTION_NAME } from './constants';\n\nexport function createStore(\n  defaultState: GlobalState,\n  options?: StateMachineOptions,\n) {\n  if (options) {\n    storeFactory.options = {\n      ...storeFactory.options,\n      ...options,\n    };\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window !== 'undefined') {\n      window.__LSM_NAME__ = storeFactory.options.name;\n      window.__LSM_RESET__ = () =>\n        storeFactory.options.storageType &&\n        storeFactory.options.storageType.removeItem(storeFactory.options.name!);\n    }\n  }\n\n  storeFactory.updateStore(defaultState);\n}\n\nconst actionTemplate =\n  <TCallback extends AnyCallback>(\n    setState: React.Dispatch<React.SetStateAction<GlobalState>>,\n    callback: TCallback,\n  ) =>\n  (payload: Parameters<TCallback>[1], options?: { skipRender: boolean }) => {\n    if (process.env.NODE_ENV !== 'production') {\n      window[STORE_ACTION_NAME] = callback.name;\n    }\n\n    storeFactory.state = callback(storeFactory.state, payload);\n\n    if (storeFactory.options.middleWares) {\n      storeFactory.state = storeFactory.options.middleWares.reduce(\n        (currentValue, currentFunction) =>\n          currentFunction(currentValue, callback.name, payload) || currentValue,\n        storeFactory.state,\n      );\n    }\n\n    (!options || !options.skipRender) && setState(storeFactory.state);\n\n    if (storeFactory.options.persist === PERSIST_OPTION.ACTION) {\n      storeFactory.saveStore();\n    }\n  };\n\nexport function useStateMachine<\n  TCallback extends AnyCallback,\n  TActions extends AnyActions<TCallback>,\n>(\n  actions?: TActions,\n): {\n  actions: ActionsOutput<TCallback, TActions>;\n  state: GlobalState;\n  getState: () => GlobalState;\n} {\n  const { state, setState } = useStateMachineContext();\n  const actionsRef = React.useRef(\n    Object.entries(actions || {}).reduce(\n      (previous, [key, callback]) =>\n        Object.assign({}, previous, {\n          [key]: actionTemplate(setState, callback),\n        }),\n      {} as ActionsOutput<TCallback, TActions>,\n    ),\n  );\n\n  return {\n    actions: actionsRef.current,\n    state,\n    getState: React.useCallback(() => storeFactory.state, []),\n  };\n}\n","import React from 'react';\nimport { HeaderContext } from 'components/Header';\n\nconst useHeaderContext = () => {\n  const {\n    title, setTitle, subtitle, setSubtitle, type, setType, logoSize, setLogoSize, setDoGoBack, doGoBack,\n  } = React.useContext(HeaderContext);\n\n  return {\n    title,\n    setTitle,\n    subtitle,\n    setSubtitle,\n    type,\n    setType,\n    logoSize,\n    setLogoSize,\n    doGoBack,\n    setDoGoBack,\n  };\n};\n\nexport default useHeaderContext;\n","export const scrollToTop = function scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n};\n\nexport const scrollToBottom = function scrollToBottom() {\n  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n};\n","import styled, { css } from 'styled-components';\nimport { colors } from 'theme';\n\nexport const BaseText = css`\n  font-family: 'Source Sans Pro';\n  font-size: 0.875rem;\n  line-height: 20px;\n`;\n\nexport const BlackText = styled.div<{ dark?: boolean; fontSize?: string; }>`\n  ${BaseText}\n  color: ${({ dark }) => (dark ? colors.darkBlack : colors.black)};\n  ${props => (props.fontSize ? `font-size: ${props.fontSize};` : '')}\n`;\n\nexport const BaseTitle = styled.div`\n  font-family: 'Open Sans';\n  font-weight: 700;\n  font-size: 24px;\n  line-height: 1;\n  color: ${colors.darkBlack};\n`;\n","import styled from 'styled-components';\nimport { colors } from '../../theme';\n\nexport interface StyledButtonProps {\n  disabled?: boolean;\n  dark?: boolean;\n  id?: string;\n}\n\nexport const StyledButton = styled.button<StyledButtonProps>`\n  height: 52px;\n  border-radius: 15px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ${({ dark, disabled }) => {\n    const color = disabled ? colors.purple_50 : colors.purple;\n    return dark ? `\n    background-color: ${color};\n    color: ${colors.white};\n    border: none;\n  ` : `\n    background-color: ${colors.white};\n    color: ${color};\n    border: 1px solid ${color};\n  `;\n  }}\n`;\n","import React, { PropsWithChildren } from 'react';\n\n// Styles\nimport {\n  StyledButton,\n  StyledButtonProps,\n} from './style';\n\nexport interface ButtonProps extends PropsWithChildren<StyledButtonProps> {\n  onClick?: ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void);\n}\n\nconst Button = React.memo(({ children, ...props }: ButtonProps) => ((\n  <StyledButton\n    type=\"button\"\n    {...props}\n  >\n    {children}\n  </StyledButton>\n)));\n\nexport default Button;\n","// TODO: Improve types\nexport function updateAction(storeKey: string): any {\n  return (state: any, payload: any) => ({\n    ...state,\n    [storeKey]: {\n      ...state[storeKey],\n      ...payload,\n    },\n  });\n}\n\nexport function resetStore(): any {\n  return (state: any) => ({ welcome: { language: state.welcome.language } });\n}\n","import styled from 'styled-components';\n\nexport const WizardButtonsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: ${props => `calc(100% - ${props.theme.layout.generalPaddingAmount * 2}px)`};\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n\n    &:last-of-type {\n      margin-left: 20px;\n    }\n  }\n\n  @media screen and (${props => props.theme.breakpoints.tablet}){\n    max-width: 470px;\n  }\n`;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\n\n// Components\nimport Button from 'components/Button';\n\n// Styles\nimport {\n  WizardButtonsContainer,\n} from './style';\n\ninterface WizardButtonsProps {\n  invert?: boolean;\n  leftLabel: string;\n  leftDisabled?: boolean;\n  leftHandler: () => void;\n  rightLabel?: string;\n  rightDisabled?: boolean;\n  rightHandler?: () => void;\n}\n\nconst WizardButtons = React.memo(({\n  invert = false,\n  leftLabel,\n  leftDisabled,\n  leftHandler,\n  rightLabel,\n  rightDisabled,\n  rightHandler,\n}: WizardButtonsProps) => (\n  <WizardButtonsContainer>\n    <Button\n      dark={invert}\n      disabled={leftDisabled}\n      onClick={leftHandler}\n    >\n      {leftLabel}\n    </Button>\n    {\n        rightLabel && rightHandler && (\n          <Button\n            dark={!invert}\n            disabled={rightDisabled}\n            onClick={rightHandler}\n          >\n            {rightLabel}\n          </Button>\n        )\n      }\n  </WizardButtonsContainer>\n));\nexport default React.memo(WizardButtons);\n","import { useState, useRef, useEffect, useCallback, useMemo, ReactNode, DOMAttributes, SyntheticEvent, MutableRefObject, MouseEvent } from 'react'\nimport { createPortal, findDOMNode } from 'react-dom'\nimport useSSR from 'use-ssr'\n\ntype HTMLElRef = MutableRefObject<HTMLElement>\ntype CustomEvent = {\n  event?: SyntheticEvent<any, Event>\n  portal: HTMLElRef\n  targetEl: HTMLElRef\n} & SyntheticEvent<any, Event>\n\ntype CustomEventHandler = (customEvent: CustomEvent) => void\ntype CustomEventHandlers = {\n  [K in keyof DOMAttributes<K>]?: CustomEventHandler\n}\n\ntype EventListenerMap = { [K in keyof DOMAttributes<K>]: keyof GlobalEventHandlersEventMap }\ntype EventListenersRef = MutableRefObject<{\n  [K in keyof DOMAttributes<K>]?: (event: SyntheticEvent<any, Event>) => void\n}>\n\nexport type UsePortalOptions = {\n  closeOnOutsideClick?: boolean\n  closeOnEsc?: boolean\n  bindTo?: HTMLElement // attach the portal to this node in the DOM\n  isOpen?: boolean\n  onOpen?: CustomEventHandler\n  onClose?: CustomEventHandler\n  onPortalClick?: CustomEventHandler\n  programmaticallyOpen?: boolean\n} & CustomEventHandlers\n\ntype UsePortalObjectReturn = {} // TODO\ntype UsePortalArrayReturn = [] // TODO\n\nexport const errorMessage1 = 'You must either add a `ref` to the element you are interacting with or pass an `event` to openPortal(e) or togglePortal(e) when the `programmaticallyOpen` option is not set to `true`.'\n\nexport default function usePortal({\n  closeOnOutsideClick = true,\n  closeOnEsc = true,\n  bindTo, // attach the portal to this node in the DOM\n  isOpen: defaultIsOpen = false,\n  onOpen,\n  onClose,\n  onPortalClick,\n  programmaticallyOpen = false,\n  ...eventHandlers\n}: UsePortalOptions = {}): any {\n  const { isServer, isBrowser } = useSSR()\n  const [isOpen, makeOpen] = useState(defaultIsOpen)\n  // we use this ref because `isOpen` is stale for handleOutsideMouseClick\n  const open = useRef(isOpen)\n\n  const setOpen = useCallback((v: boolean) => {\n    // workaround to not have stale `isOpen` in the handleOutsideMouseClick\n    open.current = v\n    makeOpen(v)\n  }, [])\n\n  const targetEl = useRef() as HTMLElRef // this is the element you are clicking/hovering/whatever, to trigger opening the portal\n  const portal = useRef(isBrowser ? document.createElement('div') : null) as HTMLElRef\n\n  useEffect(() => {\n    if (isBrowser && !portal.current) portal.current = document.createElement('div')\n  }, [isBrowser, portal])\n\n  const elToMountTo = useMemo(() => {\n    if (isServer) return\n    return (bindTo && findDOMNode(bindTo)) || document.body\n  }, [isServer, bindTo])\n\n  const createCustomEvent = (e: any) => {\n    if (!e) return { portal, targetEl, event: e }\n    const event = e || {}\n    if (event.persist) event.persist()\n    event.portal = portal\n    event.targetEl = targetEl\n    event.event = e\n    const { currentTarget } = e\n    if (!targetEl.current && currentTarget && currentTarget !== document) targetEl.current = event.currentTarget\n    return event\n  }\n\n  // this should handle all eventHandlers like onClick, onMouseOver, etc. passed into the config\n  const customEventHandlers: CustomEventHandlers = Object\n    .entries(eventHandlers)\n    .reduce<any>((acc, [handlerName, eventHandler]) => {\n      acc[handlerName] = (event?: SyntheticEvent<any, Event>) => {\n        if (isServer) return\n        eventHandler(createCustomEvent(event))\n      }\n      return acc\n    }, {})\n\n  const openPortal = useCallback((e: any) => {\n    if (isServer) return\n    const customEvent = createCustomEvent(e)\n    // for some reason, when we don't have the event argument, there\n    // is a weird race condition. Would like to see if we can remove\n    // setTimeout, but for now this works\n    if (targetEl.current == null && !programmaticallyOpen) {\n      setTimeout(() => setOpen(true), 0)\n      throw Error(errorMessage1)\n    }\n    if (onOpen) onOpen(customEvent)\n    setOpen(true)\n  }, [isServer, portal, setOpen, targetEl, onOpen])\n\n  const closePortal = useCallback((e: any) => {\n    if (isServer) return\n    const customEvent = createCustomEvent(e)\n    if (onClose && open.current) onClose(customEvent)\n    if (open.current) setOpen(false)\n  }, [isServer, onClose, setOpen])\n\n  const togglePortal = useCallback((e: SyntheticEvent<any, Event>): void => \n    open.current ? closePortal(e) : openPortal(e),\n    [closePortal, openPortal]\n  )\n\n  const handleKeydown = useCallback((e: KeyboardEvent): void => \n    (e.key === 'Escape' && closeOnEsc) ? closePortal(e) : undefined,\n    [closeOnEsc, closePortal]\n  )\n\n  const handleOutsideMouseClick = useCallback((e: MouseEvent): void => {\n    const containsTarget = (target: HTMLElRef) => target.current.contains(e.target as HTMLElement)\n    // There might not be a targetEl if the portal was opened programmatically.\n    if (containsTarget(portal) || (e as any).button !== 0 || !open.current || (targetEl.current && containsTarget(targetEl))) return\n    if (closeOnOutsideClick) closePortal(e)\n  }, [isServer, closePortal, closeOnOutsideClick, portal])\n\n  const handleMouseDown = useCallback((e: MouseEvent): void => {\n    if (isServer || !(portal.current instanceof HTMLElement)) return\n    const customEvent = createCustomEvent(e)\n    if (portal.current.contains(customEvent.target as HTMLElement) && onPortalClick) onPortalClick(customEvent)\n    handleOutsideMouseClick(e)\n  }, [handleOutsideMouseClick])\n\n  // used to remove the event listeners on unmount\n  const eventListeners = useRef({}) as EventListenersRef\n\n  useEffect(() => {\n    if (isServer) return\n    if (!(elToMountTo instanceof HTMLElement) || !(portal.current instanceof HTMLElement)) return\n\n    // TODO: eventually will need to figure out a better solution for this.\n    // Surely we can find a way to map onScroll/onWheel -> scroll/wheel better,\n    // but for all other event handlers. For now this works.\n    const eventHandlerMap: EventListenerMap = {\n      onScroll: 'scroll',\n      onWheel: 'wheel',\n    }\n    const node = portal.current\n    elToMountTo.appendChild(portal.current)\n    // handles all special case handlers. Currently only onScroll and onWheel\n    Object.entries(eventHandlerMap).forEach(([handlerName /* onScroll */, eventListenerName /* scroll */]) => {\n      if (!eventHandlers[handlerName as keyof EventListenerMap]) return\n      eventListeners.current[handlerName as keyof EventListenerMap] = (e: any) => (eventHandlers[handlerName as keyof EventListenerMap] as any)(createCustomEvent(e))\n      document.addEventListener(eventListenerName as keyof GlobalEventHandlersEventMap, eventListeners.current[handlerName as keyof EventListenerMap] as any)\n    })\n    document.addEventListener('keydown', handleKeydown)\n    document.addEventListener('mousedown', handleMouseDown as any)\n\n    return () => {\n      // handles all special case handlers. Currently only onScroll and onWheel\n      Object.entries(eventHandlerMap).forEach(([handlerName, eventListenerName]) => {\n        if (!eventHandlers[handlerName as keyof EventListenerMap]) return\n        document.removeEventListener(eventListenerName as keyof GlobalEventHandlersEventMap, eventListeners.current[handlerName as keyof EventListenerMap] as any)\n        delete eventListeners.current[handlerName as keyof EventListenerMap]\n      })\n      document.removeEventListener('keydown', handleKeydown)\n      document.removeEventListener('mousedown', handleMouseDown as any)\n      elToMountTo.removeChild(node)\n    }\n  }, [isServer, handleOutsideMouseClick, handleKeydown, elToMountTo, portal])\n\n  const Portal = useCallback(({ children }: { children: ReactNode }) => {\n    if (portal.current != null) return createPortal(children, portal.current)\n    return null\n  }, [portal])\n\n  return Object.assign(\n    [openPortal, closePortal, open.current, Portal, togglePortal, targetEl, portal],\n    {\n      isOpen: open.current,\n      openPortal,\n      ref: targetEl,\n      closePortal,\n      togglePortal,\n      Portal,\n      portalRef: portal,\n      ...customEventHandlers,\n      bind: { // used if you want to spread all html attributes onto the target element\n        ref: targetEl,\n        ...customEventHandlers\n      }\n    }\n  )\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Device;\n(function (Device) {\n    Device[\"Browser\"] = \"browser\";\n    Device[\"Server\"] = \"server\";\n    Device[\"Native\"] = \"native\";\n})(Device = exports.Device || (exports.Device = {}));\nvar Browser = Device.Browser, Server = Device.Server, Native = Device.Native;\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement);\nvar canUseNative = typeof navigator != 'undefined' && navigator.product == 'ReactNative';\nvar device = canUseNative ? Native : canUseDOM ? Browser : Server;\nvar SSRObject = {\n    isBrowser: device === Browser,\n    isServer: device === Server,\n    isNative: device === Native,\n    device: device,\n    canUseWorkers: typeof Worker !== 'undefined',\n    canUseEventListeners: device === Browser && !!window.addEventListener,\n    canUseViewport: device === Browser && !!window.screen,\n};\n// TODO: instead of this, do a polyfill for `Object.assign` https://www.npmjs.com/package/es6-object-assign\nvar assign = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args.reduce(function (acc, obj) { return (__assign(__assign({}, acc), obj)); }, {});\n};\nvar values = function (obj) { return Object.keys(obj).map(function (key) { return obj[key]; }); };\nvar toArrayObject = function () { return assign((values(SSRObject), SSRObject)); };\nvar useSSRObject = toArrayObject();\nexports.weAreServer = function () {\n    SSRObject.isServer = true;\n    useSSRObject = toArrayObject();\n};\nexports.useSSR = function () { return useSSRObject; };\nexports.default = exports.useSSR;\n","var _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgClouds(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 197 123\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M166.609 94.6731C166.611 91.0315 165.894 87.4254 164.502 84.0606C163.109 80.6959 161.067 77.6385 158.492 75.063C155.917 72.4876 152.86 70.4445 149.495 69.0507C146.13 67.6568 142.524 66.9394 138.882 66.9394C137.294 66.94 135.71 67.079 134.146 67.3547C134.166 56.8902 130.027 46.8467 122.64 39.4335C115.253 32.0204 105.223 27.8449 94.7569 27.8256C84.2909 27.8064 74.2459 31.9449 66.8317 39.3307C59.4175 46.7166 55.2414 56.7449 55.2221 67.2093C53.9521 67.0353 52.672 66.9451 51.3901 66.9394C44.1573 66.9086 37.1987 69.705 31.9989 74.7319C26.799 79.7588 23.7696 86.6183 23.5569 93.8471C23.3442 101.076 25.965 108.102 30.8602 113.425C35.7554 118.749 42.5375 121.95 49.7597 122.344H140.585C147.631 121.911 154.246 118.807 159.081 113.665C163.917 108.523 166.609 101.731 166.609 94.6731Z\",\n    fill: \"#D5E4FF\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M197 38.8013C197.007 36.4261 196.493 34.0783 195.494 31.9232C194.495 29.7681 193.036 27.8581 191.219 26.3277C189.403 24.7973 187.272 23.6837 184.979 23.0654C182.685 22.4471 180.284 22.339 177.944 22.7488C177.827 16.6826 175.337 10.9037 171.009 6.65113C166.681 2.39858 160.858 0.0109033 154.79 3.72496e-05C148.722 -0.0108288 142.891 2.35598 138.548 6.593C134.204 10.83 131.694 16.6 131.555 22.6657C130.809 22.5576 130.056 22.5021 129.302 22.4996C125.066 22.5049 121 24.1578 117.962 27.1082C114.924 30.0587 113.154 34.0753 113.026 38.3078C112.897 42.5403 114.421 46.6567 117.275 49.7855C120.129 52.9144 124.088 54.8102 128.315 55.0718H181.703C185.844 54.8131 189.731 52.9865 192.573 49.9639C195.414 46.9413 196.997 42.9497 197 38.8013Z\",\n    fill: \"#EAF1FF\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M47.3115 91.1833C47.3115 88.7461 46.3432 86.4088 44.6197 84.6855C42.8961 82.9622 40.5585 81.9941 38.121 81.9941C37.5953 81.9913 37.0704 82.0364 36.5529 82.129C36.5529 78.662 35.1754 75.337 32.7235 72.8854C30.2715 70.4338 26.946 69.0565 23.4785 69.0565C20.0109 69.0565 16.6854 70.4338 14.2334 72.8854C11.7815 75.337 10.404 78.662 10.404 82.129C9.98039 82.0749 9.55377 82.0471 9.12669 82.046C6.74799 82.0625 4.46834 83.0005 2.76706 84.6628C1.06577 86.3252 0.0754078 88.5823 0.00413104 90.9596C-0.0671457 93.3369 0.786245 95.6493 2.38488 97.4105C3.98352 99.1718 6.20286 100.245 8.57629 100.404H38.6922C41.0347 100.258 43.2327 99.2214 44.8354 97.507C46.4381 95.7925 47.324 93.53 47.3115 91.1833Z\",\n    fill: \"#B1CDFF\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgClouds);\nexport default __webpack_public_path__ + \"static/media/Clouds.075968b8.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowUp(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 33.4749V6.52485\",\n    stroke: \"#3578DE\",\n    strokeWidth: 3.675,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.97504 17.5499L20 6.52493L31.025 17.5499\",\n    stroke: \"#3578DE\",\n    strokeWidth: 3.675,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUp);\nexport default __webpack_public_path__ + \"static/media/arrowUp.95588a1c.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { colors } from 'theme';\nimport { BaseTitle, BlackText } from 'components/Texts';\n\n// Assets\nimport { ReactComponent as Clouds } from 'assets/images/Clouds.svg';\nimport { ReactComponent as Arrow } from 'assets/icons/arrowUp.svg';\n\nexport const MainContainer = styled.div`\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    margin-bottom: 64px;\n  }\n`;\n\nexport const Title = styled(BaseTitle)`\n  margin-top: 65px;\n  margin-bottom: 16px;\n  margin-left: 20px;\n\n`;\n\nexport const Text = styled(BlackText)`\n  margin-bottom: 125px;\n  color: ${props => props.theme.colors.darkGray_70};\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    @media (orientation: portrait) {\n      margin-bottom: 185px;\n    }\n\n    @media (orientation: landscape) {\n      margin-bottom: 24px;\n    }\n  }\n`;\n\nexport const TextAddFile = styled(BlackText).attrs({ dark: true, fontSize: '1rem' })`\n  text-align: center;\n  line-height: 24px;\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    font-size: 1.75rem;\n  }\n`;\n\nexport const TextFileConstraints = styled(BlackText).attrs({ dark: true, fontSize: '0.625rem' })`\n  text-align: center;\n  line-height: 24px;\n  color: ${props => props.theme.colors.darkGray};\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    font-size: 1rem;\n    margin-top: 20px;\n  }\n`;\n\nexport const TextErrorContainer = styled.div`\n  font-size: 16px;\n  line-height: 20px;\n  color: ${colors.red};\n  font-family: 'Source Sans Pro';\n  display: 'flex';\n  height: 50px;\n`;\n\nexport const UploadContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  margin: 0 auto;\n  position: relative;\n`;\n\nexport const UploadInput = styled.input`\n  display: none;\n`;\n\nexport const UploadButton = styled.label`\n  width: 98px;\n  height: 98px;\n  background-color: #EBF1FC;\n  border-radius: 50%;\n  cursor: pointer;\n  position: relative;\n  margin-top: -40%;\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    width: 200px;\n    height: 200px;\n    margin-bottom: 30px;\n  }\n`;\n\nexport const ArrowUp = styled(Arrow)`\n  width: 39px;\n  height: 39px;\n  position: absolute; \n  bottom: 55%;\n  pointer-events: none;\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    width: 80px;\n    height: 80px;\n    position: absolute;\n    bottom: 60%;\n  } \n`;\n\nexport const CloudsSVG = styled(Clouds)`\n  width: 197px;\n  height: 122px;\n  margin: 0 auto;\n  margin-top: 110px;\n  display: block;\n\n  @media screen and (${props => props.theme.breakpoints.tablet}) {\n    width: 374px;\n    height: 299px;\n  }\n`;\n","import React, { useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport usePortal from 'react-useportal';\nimport { useTranslation } from 'react-i18next';\n\n// Form\nimport { Controller, useForm } from 'react-hook-form';\nimport { useStateMachine } from 'little-state-machine';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\n// Components\nimport WizardButtons from 'components/WizardButtons';\n\n// Header Control\nimport useHeaderContext from 'hooks/useHeaderContext';\n\n// Utils\nimport { updateAction } from 'utils/wizard';\nimport { scrollToTop } from 'helper/scrollHelper';\n\n// Styles\nimport {\n  MainContainer,\n  Title,\n  TextErrorContainer,\n  UploadContainer,\n  UploadInput,\n  UploadButton,\n  CloudsSVG,\n  ArrowUp,\n} from './style';\n\nconst audioMaxSizeInMb = 5;\n\nconst mimeTypes = 'audio/wav,audio/wave,audio/wav,audio/x-wav,audio/x-pn-wav,audio/mp3,audio/ogg';\n\nconst schema = Yup.object({\n  uploadedFile: Yup.mixed()\n    .required('ERROR.FILE_REQUIRED')\n    .test('fileSize', 'ERROR.FILE_SIZE', (value?: any) => {\n      if (value) {\n        const file = value as File;\n        const { size } = file;\n        return size <= ((1024 ** 3) * audioMaxSizeInMb);\n      }\n      return !!value;\n    })\n    .test('fileDuration', 'ERROR.FILE_DURATION', async (value?: any) => {\n      if (value) {\n        const file = value as File;\n        const audio = new Audio(URL.createObjectURL(file));\n\n        audio.load();\n        await new Promise(resolver => audio.addEventListener('loadedmetadata', resolver));\n        return (audio.duration >= 3);\n      }\n      return !!value;\n    }),\n}).defined();\n\nconst RecordManualUpload = ({\n  storeKey,\n  previousStep,\n  nextStep,\n  metadata,\n}: Wizard.StepProps) => {\n  // Hooks\n  const { Portal } = usePortal({\n    bindTo: document && document.getElementById('wizard-buttons') as HTMLDivElement,\n  });\n  const {\n    setDoGoBack, setTitle, setSubtitle, setType,\n  } = useHeaderContext();\n  const history = useHistory();\n  const { state, actions } = useStateMachine({ updateAction: updateAction(storeKey) });\n  const {\n    control,\n  } = useForm({\n    mode: 'onChange',\n    defaultValues: state?.[storeKey]?.[metadata?.currentLogic],\n    resolver: yupResolver(schema),\n  });\n  const { t } = useTranslation();\n\n  // States\n  const [activeStep, setActiveStep] = React.useState(true);\n  const [errorMsg, setErrorMsg] = React.useState('');\n  const inputUpload = useRef<HTMLInputElement>(null);\n\n  // Handlers\n  const handleNext = React.useCallback((values: File) => {\n    if (nextStep) {\n      actions.updateAction({\n        [metadata?.currentLogic]: {\n          recordingFile: null,\n          uploadedFile: values,\n        },\n      });\n      setActiveStep(false);\n      history.push(nextStep, { from: 'step-manual-upload' });\n    }\n  }, [nextStep, actions, metadata, history]);\n\n  const handleDoBack = React.useCallback(() => {\n    setActiveStep(false);\n    if (previousStep) {\n      history.push(previousStep);\n    } else {\n      history.goBack();\n    }\n  }, [history, previousStep]);\n\n  const handleUpload = React.useCallback(e => {\n    schema.validate({ uploadedFile: e }).then(() => {\n      handleNext(e);\n    }).catch(err => {\n      if (err.errors[0] === 'ERROR.FILE_SIZE') {\n        setErrorMsg(t('recordingsRecordManual:fileSizeTooBig'));\n      } if (err.errors[0] === 'ERROR.FILE_REQUIRED') {\n        setErrorMsg(t('recordingsRecordManual:fileRequired'));\n      } else {\n        setErrorMsg(t('recordingsRecordManual:fileDurationTooShort'));\n      }\n    });\n  }, [handleNext, t]);\n\n  // Effects\n  useEffect(() => {\n    scrollToTop();\n    setTitle(t('recordingsRecordManual:header'));\n    setSubtitle('');\n    setType('shapeUp');\n    setDoGoBack(() => handleDoBack);\n  }, [handleDoBack, setDoGoBack, setType, setSubtitle, setTitle, t]);\n\n  return (\n    <>\n      <MainContainer>\n        <Title>\n          {t('recordingsRecordManual:micError')}\n        </Title>\n        <CloudsSVG />\n        <Controller\n          control={control}\n          name=\"uploadedFile\"\n          render={({ name }) => (\n            <UploadContainer>\n              <UploadButton htmlFor=\"uploaded-file\" />\n              <ArrowUp />\n              <UploadInput\n                ref={inputUpload}\n                id=\"uploaded-file\"\n                type=\"file\"\n                name={name}\n                accept={mimeTypes}\n                onChange={e => handleUpload(e.currentTarget.files?.[0])}\n              />\n            </UploadContainer>\n          )}\n        />\n      </MainContainer>\n      <TextErrorContainer>\n        {errorMsg}\n      </TextErrorContainer>\n      {/* Bottom Buttons */}\n      {activeStep && (\n        <Portal>\n          <WizardButtons\n            invert\n            leftLabel={t('recordingsRecordManual:uploadFile')}\n            leftHandler={() => inputUpload.current?.click()}\n          />\n        </Portal>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(RecordManualUpload);\n"],"sourceRoot":""}